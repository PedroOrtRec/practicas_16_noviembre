<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio4</title>
</head>

<body>

    <!--EJERCICIO 4. (CONDICION: REUTILIZAR FUNCIONALIDAD Y
ENCAPSULAR CADA ACCIÓN EN UN FUNCIÓN)
Realizar un programa con un listado de productos.
Para la realización de este programa tendré que crear un array que tenga productos
con los siguientes datos.
name es un string
price es un number
stock es un Boolean
category es un string y hay 5 categories posibles ‘lacteos’, ‘carnes’, ‘frutas’, ‘verduras’,
‘pescados’.
1- Realizar un array con 10 productos de diferentes datos con diferentes categorías.
2 - Filtrar productos que estén entre 1 y 3 euros (ojo capacidad de abstracción).
3 - Filtrar por categoria
4 - filtrar por disposición de stock
5 - filtrar productos entre 1 y 3 euros que tengan stock.

profesor: son dos funciones? es importante lo de reutilizar con el numero 5

paso 1. hacer una función que me filtre. hacer que me filtre por categoria, por precio, por stock. /puede que el filtrado de precio sea distinta por el tema de colocar un rango?
paso 2. hacer una función que me filtre dos veces-->

    <script>
        const productos = new Array(
            {
                name: 'Tomate',
                price: 1.5,
                stock: true,
                category: 'verduras',
            },
            {
                name: 'Pimiento',
                price: 0.7,
                stock: true,
                category: 'verduras',
            },
            {
                name: 'Cebolla',
                price: 1.7,
                stock: false,
                category: 'verduras',
            },
            {
                name: 'Platano',
                price: 2.7,
                stock: false,
                category: 'frutas',
            },
            {
                name: 'Piña',
                price: 3.5,
                stock: true,
                category: 'frutas',
            },
            {
                name: 'Naranja',
                price: 0.9,
                stock: false,
                category: 'frutas',
            },
            {
                name: 'Mozarella',
                price: 4,
                stock: false,
                category: 'Lacteos',
            },
            {
                name: 'LecheDesnatada',
                price: 2.5,
                stock: true,
                category: 'Lacteos',
            },
            {
                name: 'JamonYork',
                price: 0.5,
                stock: false,
                category: 'Carnes',
            },
            {
                name: 'JamonSerrano',
                price: 5,
                stock: true,
                category: 'Carnes',
            },
        )



        function filtrarPrecios(pLista) {
            return filtroPrecio = pLista.filter(producto => producto.price <= 3 && producto.price >= 1);
        }

        function filtrarStock(pLista, pStock) {
            return filtroStock = pLista.filter(function (producto) { if (producto.stock == pStock) { return true; } });
        }

        function filtrarCategoria(pLista, pCategoria) {
            return filtroCategoria = pLista.filter(producto => producto.category == pCategoria)
        }

        // NI DE COÑA HERMANO function doblefiltro(pLista, pFiltro1, pFiltro2, pStock) {
        //     let doblefiltrado = pFiltro1(pLista);
        //     doblefiltrado = pFiltro2(pLista, pStock);
        //     return doblefiltrado;
        // }

        filtrarPrecios(productos);
        console.log(filtroPrecio);
        filtrarStock(productos, true);
        console.log(filtroStock);
        filtrarCategoria(productos, 'Carnes');
        console.log(filtroCategoria)
        doblefiltro(productos, filtrarPrecios, filtrarStock, true);
        console.log(doblefiltrado);

//la función que hay dentro del filter podría sacarla y hacer que una fuera funcion filtrarStock y la otra funcion filtrarPrecio, y la función en la que ahora están contenida que se llamara filtar y que uno de los parametros fuera elegir que funcion quiero. las funciones nuevas estas no deberían meter parametros sino estar prefijadas ya?
//No entiendo muy bien como funciona el filter

    </script>

</body>

</html>